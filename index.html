<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev Portfolio | Logic & Web</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <nav>
        <div class="logo">DEV<span>PORTFOLIO</span></div>
        <a href="admin.html" class="login-btn">Admin Portal</a>
    </nav>

    <div class="hero">
        <h1>Mastering <span>Logic</span></h1>
        <div class="stats-container">
            <div class="stat-box"><div class="stat-val" id="total-users">0</div><div class="stat-label">Users</div></div>
            <div class="stat-box"><div class="stat-val" id="total-servers">0</div><div class="stat-label">Servers</div></div>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">Projects</h2>
        <div id="bot-display" class="grid"></div>
        
        <h2 class="section-title" style="margin-top: 80px;">The Team</h2>
        <div id="team-display" class="grid-team"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { /* Your Config Here */ };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        onSnapshot(collection(db, "team"), (s) => {
            const display = document.getElementById('team-display');
            display.innerHTML = "";
            s.forEach(d => {
                const t = d.data();
                const staffSlug = t.name.substring(0, 3).toLowerCase(); //
                display.innerHTML += `
                    <div class="team-card">
                        <img src="${t.avatar}" class="team-avatar">
                        <div class="team-info">
                            <h4>${t.name}</h4>
                            <span class="role-badge">${t.role}</span>
                            ${t.hasPortfolio ? `<a href="staff.html?user=${staffSlug}" class="member-port-btn">View Portfolio</a>` : ''}
                        </div>
                    </div>`;
            });
        });

        onSnapshot(collection(db, "bots"), (s) => {
            const display = document.getElementById('bot-display');
            display.innerHTML = "";
            s.forEach(d => {
                const b = d.data();
                display.innerHTML += `
                    <div class="bot-card">
                        <img src="${b.avatar}" class="bot-pfp">
                        <h3>${b.name}</h3>
                        <p>${b.desc}</p>
                        <a href="${b.invite}" class="play-btn">Join Server</a>
                    </div>`;
            });
        });
    </script>
</body>
</html>
